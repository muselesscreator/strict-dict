<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@muselesscreator/strict-dict</title><meta name="description" content="Documentation for @muselesscreator/strict-dict"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@muselesscreator/strict-dict</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@muselesscreator/strict-dict</h2></div><div class="tsd-panel tsd-typography"><a id="md:strict-dict" class="tsd-anchor"></a><h1><a href="#md:strict-dict">strict-dict</a></h1><p>Trust-worthy key-stores for Javascript.</p>
<p>The purpose of this library is to provide a simple facility for catching a specific category of bug as soon
as it happens in the code: reading an object whose keys you trust, and mis-typing a key.  In Javascript,
this results in an undefined value, which is fine in some cases, but in others where you rely on that value
being present, it is valuable to be able to actively catch these errors early, rather than 4-8 steps down the
line where they start causing problems.</p>
<a id="md:utilities" class="tsd-anchor"></a><h2><a href="#md:utilities">Utilities</a></h2><a id="md:strictdict-usestrictdict--strict-dictionary" class="tsd-anchor"></a><h3><a href="#md:strictdict-usestrictdict--strict-dictionary"><code>StrictDict</code>, <code>useStrictDict</code>- Strict dictionary</a></h3><p>Defines object that complain when called with invalid keys. useful for when using defined modules, where you want to treat invalid keys as an error behavior (such as when using an object as a key-store).  Primarily, this is a method to avoid using &quot;magic strings&quot; in javascript code and tests.
An optional config object can be passed to control the behavior in a given run environment.</p>
<a id="md:usage" class="tsd-anchor"></a><h4><a href="#md:usage">Usage</a></h4><p>Wrap an object in StrictDict, and it will raise an error if called with invalid keys.</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selectors</span><span class="hl-1"> = </span><span class="hl-3">StrictDict</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">validSelector1</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">  </span><span class="hl-3">validSelector2</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">});</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selector</span><span class="hl-1"> = </span><span class="hl-4">selectors</span><span class="hl-1">.</span><span class="hl-4">invalidSelector</span><span class="hl-1">; </span><span class="hl-5">// raises an error</span>
</code><button>Copy</button></pre>
<p>And now with custom behavior in production environment (default in all others)</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selectors</span><span class="hl-1"> = </span><span class="hl-3">StrictDict</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">validSelector1</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">  </span><span class="hl-3">validSelector2</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">}, {</span><br/><span class="hl-1">  </span><span class="hl-3">production</span><span class="hl-4">:</span><span class="hl-1"> ({ </span><span class="hl-4">target</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1"> }) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {},</span><br/><span class="hl-1">});</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selector</span><span class="hl-1"> = </span><span class="hl-4">selectors</span><span class="hl-1">.</span><span class="hl-4">invalidSelector</span><span class="hl-1">; </span><span class="hl-5">// raises custom error in production environment</span>
</code><button>Copy</button></pre>
<p><code>useStrictDict</code> is a hook that provides the config object based on a top-level context provider
(StrictContext)</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">App</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-6">&lt;</span><span class="hl-7">StrictContext.Provider</span><span class="hl-1"> </span><span class="hl-8">value</span><span class="hl-1">=</span><span class="hl-0">{</span><span class="hl-9">{</span><br/><span class="hl-9">    </span><span class="hl-3">production</span><span class="hl-4">:</span><span class="hl-9"> ({ </span><span class="hl-4">target</span><span class="hl-9">, </span><span class="hl-4">key</span><span class="hl-9"> }) </span><span class="hl-0">=&gt;</span><span class="hl-9"> {},</span><br/><span class="hl-9">  }</span><span class="hl-0">}</span><span class="hl-6">&gt;</span><br/><span class="hl-1">    </span><span class="hl-6">&lt;</span><span class="hl-7">MyApp</span><span class="hl-1"> </span><span class="hl-6">/&gt;</span><br/><span class="hl-1">  </span><span class="hl-6">&lt;/</span><span class="hl-7">StrictContext.Provider</span><span class="hl-6">&gt;</span><br/><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">MyApp</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selectors</span><span class="hl-1"> = </span><span class="hl-3">useStrictDict</span><span class="hl-1">()({</span><br/><span class="hl-1">    </span><span class="hl-3">validSelector1</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">    </span><span class="hl-3">validSelector2</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selector</span><span class="hl-1"> = </span><span class="hl-4">selectors</span><span class="hl-1">.</span><span class="hl-4">invalidSelector</span><span class="hl-1">; </span><span class="hl-5">// raises custom error in production environment</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:keystore-and-usekeystore--strict-dictionary-of-keys-from-a-given-object" class="tsd-anchor"></a><h3><a href="#md:keystore-and-usekeystore--strict-dictionary-of-keys-from-a-given-object"><code>keyStore</code> and <code>useKeyStore</code>- Strict Dictionary of keys from a given object.</a></h3><p>use <code>keyStore</code> to quickly grab the keys from an object or StrictDict as a StrictDict themselves.</p>
<a id="md:usage-1" class="tsd-anchor"></a><h4><a href="#md:usage-1">Usage</a></h4><pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selectorKeys</span><span class="hl-1"> = </span><span class="hl-3">keyStore</span><span class="hl-1">(</span><span class="hl-4">selectors</span><span class="hl-1">);</span><br/><span class="hl-4">selectorKeys</span><span class="hl-1">.</span><span class="hl-4">validSelector1</span><span class="hl-1">; </span><span class="hl-5">// &#39;validSelector1&#39;;</span><br/><span class="hl-4">selectorKeys</span><span class="hl-1">.</span><span class="hl-4">invalidSelector</span><span class="hl-1">; </span><span class="hl-5">// raises an error;</span>
</code><button>Copy</button></pre>
<p><code>useKeyStore</code> is a hook that provides the config object based on a top-level context provider
(StrictContext)</p>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">App</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-6">&lt;</span><span class="hl-7">StrictContext.Provider</span><span class="hl-1"> </span><span class="hl-8">value</span><span class="hl-1">=</span><span class="hl-0">{</span><span class="hl-9">{</span><br/><span class="hl-9">    </span><span class="hl-3">production</span><span class="hl-4">:</span><span class="hl-9"> ({ </span><span class="hl-4">target</span><span class="hl-9">, </span><span class="hl-4">key</span><span class="hl-9"> }) </span><span class="hl-0">=&gt;</span><span class="hl-9"> {},</span><br/><span class="hl-9">  }</span><span class="hl-0">}</span><span class="hl-6">&gt;</span><br/><span class="hl-1">    </span><span class="hl-6">&lt;</span><span class="hl-7">MyApp</span><span class="hl-1"> </span><span class="hl-6">/&gt;</span><br/><span class="hl-1">  </span><span class="hl-6">&lt;/</span><span class="hl-7">StrictContext.Provider</span><span class="hl-6">&gt;</span><br/><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">MyApp</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selectors</span><span class="hl-1"> = </span><span class="hl-3">useKeyStore</span><span class="hl-1">()({</span><br/><span class="hl-1">    </span><span class="hl-3">validSelector1</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">    </span><span class="hl-3">validSelector2</span><span class="hl-4">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> ({}),</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">selector</span><span class="hl-1"> = </span><span class="hl-4">selectors</span><span class="hl-1">.</span><span class="hl-4">invalidSelector</span><span class="hl-1">; </span><span class="hl-5">// raises custom error in production environment</span><br/><span class="hl-1">  ...</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:typescript-considerations" class="tsd-anchor"></a><h3><a href="#md:typescript-considerations">TypeScript considerations</a></h3><p>When using TypeScript, you can type these as <code>Record&lt;string, targetType&gt;</code> for easy access during tests.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:strict-dict"><span>strict-<wbr/>dict</span></a><ul><li><a href="#md:utilities"><span>Utilities</span></a></li><li><ul><li><a href="#md:strictdict-usestrictdict--strict-dictionary"><span>Strict<wbr/>Dict, use<wbr/>Strict<wbr/>Dict-<wbr/> <wbr/>Strict dictionary</span></a></li><li><ul><li><a href="#md:usage"><span>Usage</span></a></li></ul></li><li><a href="#md:keystore-and-usekeystore--strict-dictionary-of-keys-from-a-given-object"><span>key<wbr/>Store and use<wbr/>Key<wbr/>Store-<wbr/> <wbr/>Strict <wbr/>Dictionary of keys from a given object.</span></a></li><li><ul><li><a href="#md:usage-1"><span>Usage</span></a></li></ul></li><li><a href="#md:typescript-considerations"><span>Type<wbr/>Script considerations</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@muselesscreator/strict-dict</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>